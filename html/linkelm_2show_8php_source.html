<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>KS-CMS: Исходный файл modules/main/fields/linkelm/show.php</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Создано системой Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Титульная&nbsp;страница</span></a></li>
      <li><a href="pages.html"><span>Описания</span></a></li>
      <li><a href="namespaces.html"><span>Пространства&nbsp;имен</span></a></li>
      <li><a href="annotated.html"><span>Структуры&nbsp;данных</span></a></li>
      <li class="current"><a href="files.html"><span>Файлы</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Файлы</span></a></li>
      <li><a href="globals.html"><span>Список&nbsp;членов&nbsp;всех&nbsp;файлов</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>modules/main/fields/linkelm/show.php</h1>  </div>
</div>
<div class="contents">
<a href="linkelm_2show_8php.html">См. документацию.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 
<a name="l00003"></a><a class="code" href="linkelm_2show_8php.html#a0f298096f322952a72a50f98a74c7b60">00003</a> <a class="code" href="linkcat_2show_8php.html#a0f298096f322952a72a50f98a74c7b60">$value</a>=$params[<span class="stringliteral">&#39;value&#39;</span>];
<a name="l00004"></a><a class="code" href="linkelm_2show_8php.html#a83cf8631c353a9cdb3d71bf12538825b">00004</a> <a class="code" href="linkcat_2show_8php.html#a83cf8631c353a9cdb3d71bf12538825b">$myData</a>=explode(<span class="charliteral">&#39;|&#39;</span>,<a class="code" href="linkcat_2show_8php.html#a0f298096f322952a72a50f98a74c7b60">$value</a>);
<a name="l00005"></a><a class="code" href="linkelm_2show_8php.html#a2da3681c9cce2efe7de29aa578ff4219">00005</a> <a class="code" href="linkcat_2show_8php.html#a2da3681c9cce2efe7de29aa578ff4219">$rand</a>=rand(100000,999999);
<a name="l00006"></a><a class="code" href="linkelm_2show_8php.html#ae491bbe5a660c3f3f9150e072f40b0ab">00006</a> <a class="code" href="main_2fields_2common__list_2config_8php.html#ad6eb2e39b56b25e24d21f61f6a59fe02">$sResult</a>.=<span class="stringliteral">&quot;&lt;input type=\&quot;text\&quot; name=\&quot;id&quot;</span>.$rand.<span class="stringliteral">&quot;\&quot; id=\&quot;id&quot;</span>.<a class="code" href="linkcat_2show_8php.html#a2da3681c9cce2efe7de29aa578ff4219">$rand</a>.<span class="stringliteral">&quot;\&quot; value=\&quot;&quot;</span>.<a class="code" href="linkcat_2show_8php.html#a83cf8631c353a9cdb3d71bf12538825b">$myData</a>[1].<span class="stringliteral">&quot;\&quot;&gt;[&lt;span id=\&quot;module&quot;</span>.<a class="code" href="linkcat_2show_8php.html#a2da3681c9cce2efe7de29aa578ff4219">$rand</a>.<span class="stringliteral">&quot;\&quot;&gt;&quot;</span>.<a class="code" href="linkcat_2show_8php.html#a83cf8631c353a9cdb3d71bf12538825b">$myData</a>[0].<span class="stringliteral">&quot;&lt;/span&gt;]\n&quot;</span>;
<a name="l00007"></a>00007 <a class="code" href="main_2fields_2common__list_2config_8php.html#ad6eb2e39b56b25e24d21f61f6a59fe02">$sResult</a>.=<span class="stringliteral">&#39;&lt;input type=&quot;hidden&quot; name=&quot;&#39;</span>.$params[<span class="stringliteral">&#39;prefix&#39;</span>].<span class="stringliteral">&quot;ext_&quot;</span>.$params[<span class="stringliteral">&#39;field&#39;</span>][<span class="stringliteral">&#39;title&#39;</span>].<span class="stringliteral">&#39;&quot; id=&quot;&#39;</span>.$params[<span class="stringliteral">&#39;prefix&#39;</span>].<span class="stringliteral">&quot;_ext_&quot;</span>.$params[<span class="stringliteral">&#39;field&#39;</span>][<span class="stringliteral">&#39;title&#39;</span>].<span class="stringliteral">&#39;&quot; value=&quot;&#39;</span>.$params[<span class="stringliteral">&#39;value&#39;</span>].<span class="stringliteral">&#39;&quot; style=&quot;width:100%&quot;/&gt;&#39;</span>;
<a name="l00008"></a>00008 <a class="code" href="main_2fields_2common__list_2config_8php.html#ad6eb2e39b56b25e24d21f61f6a59fe02">$sResult</a>.=<span class="stringliteral">&#39;&lt;input type=&quot;button&quot; id=&quot;select&#39;</span>.$rand.<span class="stringliteral">&#39;&quot; name=&quot;select&#39;</span>.<a class="code" href="linkcat_2show_8php.html#a2da3681c9cce2efe7de29aa578ff4219">$rand</a>.<span class="stringliteral">&#39;&quot; value=&quot;...&quot;&gt;&#39;</span>;
<a name="l00009"></a>00009 <a class="code" href="main_2fields_2common__list_2config_8php.html#ad6eb2e39b56b25e24d21f61f6a59fe02">$sResult</a>.=<span class="stringliteral">&#39;&lt;a id=&quot;del&#39;</span>.$rand.<span class="stringliteral">&#39;&quot; href=&quot;#&quot; style=&quot;margin-left:6px;&quot;&gt;&lt;img style=&quot;vertical-align: middle;&quot; src=&quot;/uploasds/templates/admin/images/icons2/delete.gif&quot;/&gt;&lt;/a&gt;&#39;</span>;
<a name="l00010"></a>00010 <a class="code" href="main_2fields_2common__list_2config_8php.html#ad6eb2e39b56b25e24d21f61f6a59fe02">$sResult</a>.=<span class="stringliteral">&#39;&lt;script type=&quot;text/javascript&quot;&gt;&#39;</span> .<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00011"></a>00011                 <span class="stringliteral">&#39;function showForm&#39;</span>.$rand.<span class="stringliteral">&#39;(e,data){&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00012"></a>00012                         <span class="stringliteral">&#39;var obData=$(&quot;:checkbox[name=\&#39;sel\[elm\]\[\]\&#39;]&quot;,data);&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00013"></a>00013                         <span class="stringliteral">&#39;for(var i=0;i&lt;obData.length;i++)&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00014"></a>00014                         <span class="charliteral">&#39;{&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00015"></a>00015                                 <span class="stringliteral">&#39;obData.eq(i).replaceWith($(\&#39;&lt;input type=&quot;button&quot; name=&quot;\&#39;+obData.eq(i).attr(\&#39;value\&#39;)+\&#39;&quot; kstitle=&quot;\&#39;+obData.eq(i).next(&quot;input[type=hidden]&quot;).eq(0).val()+\&#39;&quot; value=&quot;Выбрать&quot;/&gt;\&#39;).click(&#39;</span> .<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00016"></a>00016                                 <span class="stringliteral">&#39;function(event){&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00017"></a>00017                                         <span class="stringliteral">&#39;$(&quot;#id&#39;</span>.$rand.<span class="stringliteral">&#39;&quot;).val($(this).attr(&quot;kstitle&quot;));&#39;</span> .<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00018"></a>00018                                         <span class="stringliteral">&#39;$(&quot;#module&#39;</span>.$rand.<span class="stringliteral">&#39;&quot;).html($(this).attr(&quot;name&quot;));&#39;</span> .<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00019"></a>00019                                         <span class="stringliteral">&#39;$(&quot;#&#39;</span>.$params[<span class="stringliteral">&#39;prefix&#39;</span>].<span class="stringliteral">&quot;_ext_&quot;</span>.$params[<span class="stringliteral">&#39;field&#39;</span>][<span class="stringliteral">&#39;title&#39;</span>].<span class="stringliteral">&#39;&quot;).val(this.name);</span>
<a name="l00020"></a>00020 <span class="stringliteral">                                        kstb_remove();</span>
<a name="l00021"></a>00021 <span class="stringliteral">                                        })&#39;</span> .<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00022"></a>00022                                 <span class="stringliteral">&#39;);&#39;</span> .<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00023"></a>00023                         <span class="charliteral">&#39;}&#39;</span> .<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00024"></a>00024                         <span class="stringliteral">&#39;$(&quot;#navChain&gt;:first-child&quot;,data).remove();&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00025"></a>00025                         <span class="keywordflow">if</span>($params[<span class="stringliteral">&#39;field&#39;</span>][<span class="stringliteral">&#39;option_1&#39;</span>]==<span class="stringliteral">&quot;blog&quot;</span>) <a class="code" href="main_2fields_2common__list_2config_8php.html#ad6eb2e39b56b25e24d21f61f6a59fe02">$sResult</a>.=<span class="stringliteral">&#39;$(&quot;#navChain&gt;:first-child&quot;,data).remove();&#39;</span>;
<a name="l00026"></a>00026                         <a class="code" href="main_2fields_2common__list_2config_8php.html#ad6eb2e39b56b25e24d21f61f6a59fe02">$sResult</a>.=<span class="stringliteral">&#39;$(document).trigger(&quot;InitCalendar&quot;);&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00027"></a>00027                         <span class="stringliteral">&#39;$(document).trigger(&quot;InitTiny&quot;);&#39;</span>.     <span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00028"></a>00028                 <span class="charliteral">&#39;}&#39;</span>.
<a name="l00029"></a>00029                 <span class="stringliteral">&#39;$(document).ready(function(){&#39;</span> .
<a name="l00030"></a>00030                 <span class="stringliteral">&#39;$(&quot;a#del&#39;</span>.$rand.<span class="stringliteral">&#39;&quot;).click(function(event){&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00031"></a>00031                         <span class="stringliteral">&#39;if(confirm(&quot;Вы действительно хотите удалить эту привязку?&quot;))&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00032"></a>00032                         <span class="charliteral">&#39;{&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00033"></a>00033                         <span class="stringliteral">&#39;$(&quot;#id&#39;</span>.$rand.<span class="stringliteral">&#39;&quot;).val(&quot;&quot;);&#39;</span> .<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00034"></a>00034                         <span class="stringliteral">&#39;$(&quot;#module&#39;</span>.$rand.<span class="stringliteral">&#39;&quot;).html(&quot;&quot;);&#39;</span> .<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00035"></a>00035                         <span class="stringliteral">&#39;$(&quot;#&#39;</span>.$params[<span class="stringliteral">&#39;prefix&#39;</span>].<span class="stringliteral">&quot;_ext_&quot;</span>.$params[<span class="stringliteral">&#39;field&#39;</span>][<span class="stringliteral">&#39;title&#39;</span>].<span class="stringliteral">&#39;&quot;).val(&quot;&quot;)&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00036"></a>00036                         <span class="charliteral">&#39;}&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.
<a name="l00037"></a>00037                 <span class="stringliteral">&#39;});&#39;</span>.
<a name="l00038"></a>00038                 <span class="stringliteral">&#39;$(&quot;input#select&#39;</span>.$rand.<span class="stringliteral">&#39;&quot;).click(function(event){&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00039"></a>00039                         <span class="keywordflow">if</span>($params[<span class="stringliteral">&#39;field&#39;</span>][<span class="stringliteral">&#39;option_1&#39;</span>]==<span class="stringliteral">&quot;blog&quot;</span>)
<a name="l00040"></a>00040                                 <a class="code" href="main_2fields_2common__list_2config_8php.html#ad6eb2e39b56b25e24d21f61f6a59fe02">$sResult</a>.=<span class="stringliteral">&#39;kstb_show(&quot;Выбрать раздел&quot;,&quot;/admin.php?module=&#39;</span>.$params[<span class="stringliteral">&#39;field&#39;</span>][<span class="stringliteral">&#39;option_1&#39;</span>].<span class="stringliteral">&#39;&amp;page=records&amp;mode=small&amp;width=800&amp;height=480&quot;,null,showForm&#39;</span>.<a class="code" href="linkcat_2show_8php.html#a2da3681c9cce2efe7de29aa578ff4219">$rand</a>.<span class="stringliteral">&#39;);&#39;</span>;
<a name="l00041"></a>00041                         <span class="keywordflow">else</span>
<a name="l00042"></a>00042                                 <a class="code" href="main_2fields_2common__list_2config_8php.html#ad6eb2e39b56b25e24d21f61f6a59fe02">$sResult</a>.=<span class="stringliteral">&#39;kstb_show(&quot;Выбрать раздел&quot;,&quot;/admin.php?module=&#39;</span>.$params[<span class="stringliteral">&#39;field&#39;</span>][<span class="stringliteral">&#39;option_1&#39;</span>].<span class="stringliteral">&#39;&amp;mode=small&amp;width=800&amp;height=480&quot;,null,showForm&#39;</span>.<a class="code" href="linkcat_2show_8php.html#a2da3681c9cce2efe7de29aa578ff4219">$rand</a>.<span class="stringliteral">&#39;);&#39;</span>;
<a name="l00043"></a>00043                 <a class="code" href="main_2fields_2common__list_2config_8php.html#ad6eb2e39b56b25e24d21f61f6a59fe02">$sResult</a>.=<span class="stringliteral">&#39;})});&#39;</span>.
<a name="l00044"></a>00044         <span class="stringliteral">&#39;&lt;/script&gt;&#39;</span>;
<a name="l00045"></a>00045 ?&gt;
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Документация по KS-CMS. Последние изменения: Wed Mar 2 2011 17:46:18. Создано системой&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
